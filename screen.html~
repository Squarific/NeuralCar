<html>
	<head>
		<title>Neural Car</title>
		<script src="SQUARIFIC.neuralCar.js"></script>
		<script src="square.js"></script>
		<script src="urban.js"></script>
		<script src="share.js"></script>
		<link rel="stylesheet" href="screen.css">
	</head>
	<body onload="addLayer()">
		<div id="topMenu" class="topMenu">
			<div class="topMenu_button" onclick="showTopList(true)">Show shared list</div>
			<div class="topMenu_button" onclick="showTopList(false)">Show shared list (view-only)</div>
			<div class="topMenu_button" onclick="share(SQUARIFIC.neuralCarInstance.trainer.top.input.net, SQUARIFIC.neuralCarInstance.trainer.top.input.lastScore / SQUARIFIC.neuralCarInstance.trainer.timePerGen * 100000);">Share top car</div>
			<div class="topMenu_button" onclick="SQUARIFIC.neuralCarInstance.trainer.stopAndChangeAllToTop();">Change all to top car and stop mutations</div>
			<div class="topMenu_button" onclick="SQUARIFIC.neuralCarInstance.trainer.addToRunTime(1);">Simulate 1 second longer</div>
			<div class="topMenu_button" onclick="SQUARIFIC.neuralCarInstance.trainer.addToRunTime(-1);">1 seconds less long</div>
			<div class="topMenu_button" onclick="SQUARIFIC.neuralCarInstance.world.layers[1].objects.push(new SQUARIFIC.neuralCar.Car({color: '#D9D500', x: Math.random() * 500 + 200, y: Math.random() * 200 + 200, angle: Math.random() * 3.14, width: 10, height: 5}, new SQUARIFIC.neuralCar.PlayerInput()))">Control a car</div>
		</div>
		<div id="screen" class="screen">
			<div style="padding-bottom:2%;">
				<div class="options">
					<div id="errorContainer">
						
					</div>
					<div class="label">If you just want to start the simulation without making any changes to the default settings, scroll down.</div><br/><br/>
					<div class="label">Car settings:</div>
					<div class="container">
						<div class="label">Cars</div><input id="options_cars" class="option" value="10" placeholder="Amount of cars" type="number" />
						<div class="label">Carwidth</div><input id="options_car_width" class="option" value="10" placeholder="Carwidth" type="number" />
						<div class="label">Carheight</div><input id="options_car_height" class="option" value="5" placeholder="Carheight" type="number" />
					</div>
					<br/><br/><br/>
					<div class="label">Simulation settings:</div>
					<div class="container">
						<div class="label">Runtime per generation</div><input id="options_timePerGen" class="option" value="10" placeholder="Runtime per generation" type="number" />
					</div>
					<br/><br/><br/>
					<div class="label">Neural Network Configuration (advanced settings):</div>
					<div id="layers" class="container"></div>
					<input type="submit" class="submit" value="Add layer" onclick="addLayer()">
					<br/><br/><br/>
					<div class="label">Click on a map to start the simulation:</div>
					<div class="container">
						<img src="images/square.png" class="start" alt="squareMap" onclick="pre_start(); setTimeout(start.bind(window, squareMap, 900, 600, captions), 0);"/>
						<img src="images/urban.png" class="start" alt="urbanMap" onclick="pre_start(); setTimeout(start.bind(window, urbanMap, 900, 500, captions), 0);"/>
					</div>
					<div class="label" style="font-size:24px;">Click above to start the simulation.</div>
					<br/><br/><br/>
					<div class="label">Or add a custom map: (<a href="thepublicshare.com/neuralCar/mapEditor/editor.html">MapEditor</a>)</div>
					<div class="container" style="overflow:hidden; height:24px;">
						<div class="label" style="cursor:pointer;" onclick="this.parentNode.style.height = ''; this.parentNode.removeChild(this)">Click to expand<br/><br/></div>
						<div class="label">Captions</div><input id="map_captions" class="option" placeholder="Captions" type="text" />
						<div class="label">Width</div><input id="map_width" class="option" value="900" placeholder="Map Width" type="number" />
						<div class="label">Height</div><input id="map_height" class="option" value="500" placeholder="Map Height" type="number" />
						<div class="label">MapData</div><textarea style="margin:1%; width:98%; height:200px;" placeholder="MapData"></textarea>
						<input type="submit" class="submit" value="Custom map" onclick="">
					</div>
				</div>
			</div>
		</div>
		<div id="console">
			Console:<br/>
		</div>
		<div id="listContainer" class="listContainer">
			You can add one of the cars other people shared by clicking on the score.<br/>
			A green background means the score has been verified, gray means the score might not be correct.
			<div class="close" onclick="document.getElementById('listContainer').style.display = 'none';">
				Close
			</div>
			<div id="list">
			</div>
		</div>
	</body>
</html>
